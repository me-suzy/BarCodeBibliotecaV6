================================================================================
                    EXPLICAÈšII COMPLETE - SISTEM AUTENTIFICARE
                    Biblioteca - Sistem de Login cu Sesiune 10 Zile
================================================================================

ğŸ“‹ CUPRINS:
1. Arhitectura Sistemului
2. Unde se SalveazÄƒ Parolele È™i Utilizatorii
3. Cum FuncÈ›ioneazÄƒ ProtecÈ›ia Paginilor
4. Cum FuncÈ›ioneazÄƒ Sesiunea de 10 Zile
5. Fluxul Complet de Autentificare
6. Securitate È™i Hashing Parole
7. Structura FiÈ™ierelor
8. Exemple de Utilizare

================================================================================
1. ARHITECTURA SISTEMULUI
================================================================================

Sistemul de autentificare este construit pe 3 componente principale:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. BAZA DE DATE (MySQL)                                         â”‚
â”‚    - Tabel: utilizatori                                          â”‚
â”‚    - StocheazÄƒ: username, password_hash, nume, email, activ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. FUNCÈšII PHP (functions_autentificare.php)                   â”‚
â”‚    - autentificaUtilizator() - verificÄƒ username/password       â”‚
â”‚    - esteAutentificat() - verificÄƒ dacÄƒ user e logat            â”‚
â”‚    - verificaAutentificare() - protejeazÄƒ paginile             â”‚
â”‚    - distrugeSesiune() - logout                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. PAGINI PHP (toate paginile aplicaÈ›iei)                      â”‚
â”‚    - Include: auth_check.php la Ã®nceput                        â”‚
â”‚    - VerificÄƒ automat autentificarea                            â”‚
â”‚    - RedirecÈ›ioneazÄƒ la login.php dacÄƒ nu e autentificat        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
2. UNDE SE SALVEAZÄ‚ PAROLELE È˜I UTILIZATORII
================================================================================

ğŸ“ LOCAÈšIE: Baza de date MySQL - Tabelul "utilizatori"

ğŸ“Š STRUCTURA TABELULUI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tabel: utilizatori (Ã®n baza de date "biblioteca")              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  INT (AUTO_INCREMENT) - ID unic             â”‚
â”‚ username            VARCHAR(50) - Nume utilizator (UNIQUE)      â”‚
â”‚ password_hash       VARCHAR(255) - Parola hash-uitÄƒ (BCRYPT)    â”‚
â”‚ nume                VARCHAR(100) - Nume complet                â”‚
â”‚ email               VARCHAR(100) - Email (opÈ›ional)            â”‚
â”‚ activ               BOOLEAN - DacÄƒ contul e activ               â”‚
â”‚ data_creare         TIMESTAMP - CÃ¢nd a fost creat contul       â”‚
â”‚ ultima_autentificare TIMESTAMP - Ultima datÄƒ cÃ¢nd s-a logat    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ” SECURITATE PAROLE:
- Parolele NU sunt salvate Ã®n clar (plain text)
- Se foloseÈ™te BCRYPT hashing (funcÈ›ia password_hash() din PHP)
- Hash-ul este de 60 caractere (ex: $2y$10$...)
- Nu se poate decripta hash-ul (one-way encryption)
- Verificarea se face cu password_verify()

ğŸ“ EXEMPLU DATE ÃN BAZÄ‚:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ username    â”‚ password_hash                               â”‚ nume      â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ larisa2025  â”‚ $2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC...â”‚ Larisa    â”‚
â”‚ 2  â”‚ bunica20    â”‚ $2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC...â”‚ Bunica    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ IMPORTANT:
- Parola "admin2024" NU existÄƒ Ã®n baza de date
- ExistÄƒ DOAR hash-ul: $2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC...
- CÃ¢nd utilizatorul introduce "admin2024", se comparÄƒ hash-ul generat
  cu hash-ul din baza de date folosind password_verify()

================================================================================
3. CUM FUNCÈšIONEAZÄ‚ PROTECÈšIA PAGINILOR
================================================================================

ğŸ”’ MECANISMUL DE PROTEJARE:

Fiecare paginÄƒ PHP protejatÄƒ Ã®ncepe cu:

    <?php
    session_start();
    require_once 'auth_check.php';
    // ... restul codului paginii
    ?>

ğŸ“ auth_check.php conÈ›ine:
    - Include functions_autentificare.php
    - ApeleazÄƒ verificaAutentificare()
    - DacÄƒ nu e autentificat â†’ redirect la login.php

ğŸ”„ FLUXUL DE VERIFICARE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Utilizator acceseazÄƒ: index.php                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ index.php: session_start()                                       â”‚
â”‚ index.php: require_once 'auth_check.php'                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ auth_check.php: verificaAutentificare()                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ verificaAutentificare() apeleazÄƒ esteAutentificat()            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
    DA (autentificat)                    NU (neautentificat)
        â”‚                                       â”‚
        â†“                                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pagina se Ã®ncarcÄƒ â”‚              â”‚ Redirect la login.php    â”‚
â”‚ normal            â”‚              â”‚ + salveazÄƒ URL curent     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‹ PAGINI PROTEJATE:
- index.php
- carti.php
- cititori.php
- imprumuturi.php
- rapoarte.php
- aleph_api.php
- ... TOATE paginile PHP (exceptÃ¢nd login.php)

ğŸ“‹ PAGINI NE-PROTEJATE:
- login.php (pagina de login)
- config.php (doar configuraÈ›ie)
- auth_check.php (helper, nu e accesat direct)

================================================================================
4. CUM FUNCÈšIONEAZÄ‚ SESIUNEA DE 10 ZILE
================================================================================

â° MECANISMUL DE PERSISTENÈšÄ‚:

Sistemul foloseÈ™te DOUÄ‚ metode pentru a menÈ›ine autentificarea:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ METODA 1: Sesiune PHP ($_SESSION)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Se salveazÄƒ pe server (Ã®n fiÈ™iere temporare)                 â”‚
â”‚ - ConÈ›ine:                                                       â”‚
â”‚   * utilizator_autentificat = true                              â”‚
â”‚   * utilizator_id = 1                                           â”‚
â”‚   * utilizator_username = "larisa2025"                         â”‚
â”‚   * data_autentificare = "2025-01-15 10:30:00"                 â”‚
â”‚   * auth_token = "abc123..." (token pentru cookie)              â”‚
â”‚                                                                  â”‚
â”‚ - DuratÄƒ: PÃ¢nÄƒ cÃ¢nd browserul se Ã®nchide (sau 10 zile)         â”‚
â”‚ - LocaÈ›ie server: C:\xampp\tmp\ (sau /tmp pe Linux)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ METODA 2: Cookie Persistent (biblioteca_auth_token)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Se salveazÄƒ Ã®n browser-ul utilizatorului                    â”‚
â”‚ - Nume: biblioteca_auth_token                                   â”‚
â”‚ - Valoare: Token generat aleator (64 caractere hex)             â”‚
â”‚ - Expirare: 10 zile (time() + 10 * 24 * 60 * 60)               â”‚
â”‚ - HttpOnly: true (nu poate fi accesat din JavaScript)           â”‚
â”‚ - Secure: false (pentru localhost, true pentru HTTPS)          â”‚
â”‚                                                                  â”‚
â”‚ - LocaÈ›ie browser: Cookie storage                              â”‚
â”‚ - Folosit pentru: Re-autentificare automatÄƒ dupÄƒ Ã®nchidere     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”„ VERIFICAREA PERIOADEI DE 10 ZILE:

CÃ¢nd utilizatorul acceseazÄƒ o paginÄƒ:

    1. Se verificÄƒ $_SESSION['data_autentificare']
    2. Se calculeazÄƒ: zile_trecute = (acum - data_autentificare) / (24 * 60 * 60)
    3. DacÄƒ zile_trecute > 10:
       â†’ Sesiunea expiratÄƒ
       â†’ Distruge sesiunea
       â†’ È˜terge cookie-ul
       â†’ Redirect la login.php
    4. DacÄƒ zile_trecute <= 10:
       â†’ Sesiunea validÄƒ
       â†’ Pagina se Ã®ncarcÄƒ normal

ğŸ’¾ UNDE SE SALVEAZÄ‚ DATELE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PE SERVER (Sesiune PHP):                                        â”‚
â”‚ - LocaÈ›ie: C:\xampp\tmp\sess_XXXXX (Windows)                   â”‚
â”‚            /tmp/sess_XXXXX (Linux)                              â”‚
â”‚ - ConÈ›inut: Datele din $_SESSION                                â”‚
â”‚ - DuratÄƒ: PÃ¢nÄƒ la expirare sau logout                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ÃN BROWSER (Cookie):                                            â”‚
â”‚ - LocaÈ›ie: Cookie storage al browserului                        â”‚
â”‚ - Nume: biblioteca_auth_token                                   â”‚
â”‚ - Valoare: Token aleator (ex: a1b2c3d4...)                      â”‚
â”‚ - Expirare: 10 zile de la creare                                â”‚
â”‚ - HttpOnly: Da (securitate)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
5. FLUXUL COMPLET DE AUTENTIFICARE
================================================================================

ğŸ“ SCENARIUL 1: LOGIN INIÈšIAL (Prima datÄƒ)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 1: Utilizator acceseazÄƒ orice paginÄƒ                      â”‚
â”‚          Ex: http://localhost/index.php              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 2: auth_check.php verificÄƒ autentificarea                â”‚
â”‚          â†’ Nu e autentificat                                     â”‚
â”‚          â†’ Redirect la login.php                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 3: Utilizator vede pagina login.php                       â”‚
â”‚          - Formular cu username È™i password                      â”‚
â”‚          - Introduce: larisa2025 / admin2024                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 4: login.php proceseazÄƒ formularul (POST)                â”‚
â”‚          - ApeleazÄƒ: autentificaUtilizator($pdo, $username, $password)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 5: autentificaUtilizator() face:                         â”‚
â”‚          a) SELECT * FROM utilizatori WHERE username = 'larisa2025'
â”‚          b) VerificÄƒ: password_verify('admin2024', $hash)      â”‚
â”‚          c) DacÄƒ OK:                                            â”‚
â”‚             - CreeazÄƒ $_SESSION['utilizator_autentificat'] = true
â”‚             - SalveazÄƒ: id, username, nume, data_autentificare
â”‚             - GenereazÄƒ token aleator                            â”‚
â”‚             - CreeazÄƒ cookie 'biblioteca_auth_token' (10 zile)  â”‚
â”‚             - UPDATE utilizatori SET ultima_autentificare = NOW()
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 6: Redirect la index.php (sau pagina iniÈ›ialÄƒ)           â”‚
â”‚          - Utilizatorul este acum autentificat                   â”‚
â”‚          - Poate accesa toate paginile                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ SCENARIUL 2: ACCESARE PAGINÄ‚ DUPÄ‚ LOGIN (Ãn aceeaÈ™i sesiune)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 1: Utilizator acceseazÄƒ: carti.php                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 2: carti.php: session_start()                             â”‚
â”‚          - PHP Ã®ncarcÄƒ sesiunea existentÄƒ                        â”‚
â”‚          - $_SESSION conÈ›ine datele de autentificare            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 3: auth_check.php: verificaAutentificare()                â”‚
â”‚          - esteAutentificat() verificÄƒ:                          â”‚
â”‚            * $_SESSION['utilizator_autentificat'] === true?     â”‚
â”‚            * data_autentificare < 10 zile?                      â”‚
â”‚          - RÄƒspuns: DA (autentificat)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 4: Pagina se Ã®ncarcÄƒ normal                               â”‚
â”‚          - FÄƒrÄƒ redirect                                         â”‚
â”‚          - Utilizatorul vede conÈ›inutul                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ SCENARIUL 3: RE-AUTENTIFICARE AUTOMATÄ‚ (DupÄƒ Ã®nchidere browser)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 1: Utilizator Ã®nchide browserul                            â”‚
â”‚          - Sesiunea PHP se pierde (pe server)                   â”‚
â”‚          - Cookie-ul rÄƒmÃ¢ne Ã®n browser                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 2: Utilizator deschide browserul (Ã®n 2 zile)              â”‚
â”‚          - AcceseazÄƒ: index.php                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 3: auth_check.php: verificaAutentificare()                â”‚
â”‚          - Sesiunea PHP nu existÄƒ (browser Ã®nchis)               â”‚
â”‚          - VerificÄƒ cookie-ul: $_COOKIE['biblioteca_auth_token']â”‚
â”‚          - Cookie existÄƒ È™i e valid (< 10 zile)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 4: CreeazÄƒ sesiune nouÄƒ                                   â”‚
â”‚          - Re-autentificare automatÄƒ                             â”‚
â”‚          - Utilizatorul nu trebuie sÄƒ introducÄƒ parola din nou   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ SCENARIUL 4: EXPIRARE SESIUNE (DupÄƒ 10 zile)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 1: Utilizator acceseazÄƒ o paginÄƒ (dupÄƒ 11 zile)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 2: esteAutentificat() verificÄƒ:                           â”‚
â”‚          - data_autentificare = "2025-01-05 10:00:00"           â”‚
â”‚          - acum = "2025-01-16 10:00:00"                         â”‚
â”‚          - zile_trecute = 11 zile                               â”‚
â”‚          - 11 > 10 â†’ SESIUNEA EXPIRATÄ‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 3: distrugeSesiune()                                      â”‚
â”‚          - È˜terge $_SESSION                                      â”‚
â”‚          - È˜terge cookie-ul                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PASUL 4: Redirect la login.php                                  â”‚
â”‚          - Utilizatorul trebuie sÄƒ se logheze din nou            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
6. SECURITATE È˜I HASHING PAROLE
================================================================================

ğŸ” ALGORITMUL DE HASHING: BCRYPT

PHP foloseÈ™te funcÈ›ia password_hash() cu algoritmul BCRYPT:

    $hash = password_hash('admin2024', PASSWORD_DEFAULT);
    // Rezultat: $2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi

ğŸ“Š STRUCTURA HASH-ULUI:
    $2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi
    â”‚  â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚  â””â”€ Salt aleator (22 caractere)
    â”‚  â”‚  â””â”€â”€â”€â”€ Cost factor (10 = 2^10 = 1024 iteraÈ›ii)
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€ Versiune algoritm (2y = BCRYPT)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Format hash ($2y$ = BCRYPT)

ğŸ”’ VERIFICAREA PAROLEI:

    password_verify('admin2024', $hash_din_baza_de_date)
    // ReturneazÄƒ: true (dacÄƒ parola e corectÄƒ) sau false

âš™ï¸ CARACTERISTICI SECURITATE:

1. SALT AUTOMAT:
   - Fiecare hash are un salt unic
   - AcelaÈ™i password = hash diferit de fiecare datÄƒ
   - Ex: "admin2024" â†’ hash1, "admin2024" â†’ hash2 (diferite!)

2. ONE-WAY ENCRYPTION:
   - Nu se poate decripta hash-ul Ã®napoi la parolÄƒ
   - Singura metodÄƒ: Ã®ncercare forÈ›atÄƒ (brute force)
   - BCRYPT face brute force foarte lent (1024 iteraÈ›ii)

3. COST FACTOR:
   - Cost 10 = 2^10 = 1024 iteraÈ›ii
   - Fiecare verificare dureazÄƒ ~0.1 secunde
   - Face brute force extrem de lent

4. HTTPONLY COOKIES:
   - Cookie-ul nu poate fi accesat din JavaScript
   - ProtejeazÄƒ Ã®mpotriva XSS (Cross-Site Scripting)

5. SESSION SECURITY:
   - Sesiunea se salveazÄƒ pe server (nu Ã®n browser)
   - Token-ul din cookie nu conÈ›ine date sensibile
   - Token-ul este doar un identificator aleator

================================================================================
7. STRUCTURA FIÈ˜IERELOR
================================================================================

ğŸ“ FIÈ˜IERE PRINCIPALE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. functions_autentificare.php                                 â”‚
â”‚    - FuncÈ›ii pentru autentificare                               â”‚
â”‚    - autentificaUtilizator()                                   â”‚
â”‚    - esteAutentificat()                                        â”‚
â”‚    - verificaAutentificare()                                   â”‚
â”‚    - distrugeSesiune()                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. auth_check.php                                               â”‚
â”‚    - Helper pentru verificare autentificare                    â”‚
â”‚    - Include functions_autentificare.php                        â”‚
â”‚    - ApeleazÄƒ verificaAutentificare()                          â”‚
â”‚    - Folosit Ã®n TOATE paginile protejate                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. login.php                                                    â”‚
â”‚    - Pagina de login                                            â”‚
â”‚    - Formular username/password                                 â”‚
â”‚    - ProceseazÄƒ autentificarea                                  â”‚
â”‚    - NU este protejatÄƒ (excepÈ›ie)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. config.php                                                   â”‚
â”‚    - ConfiguraÈ›ie conexiune bazÄƒ de date                       â”‚
â”‚    - Include Ã®n toate paginile                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. update_database_autentificare.sql                            â”‚
â”‚    - Script SQL pentru crearea tabelului utilizatori            â”‚
â”‚    - InsereazÄƒ utilizatorii default                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‹ EXEMPLU: Cum este protejatÄƒ o paginÄƒ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ index.php                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <?php                                                           â”‚
â”‚ session_start();                    // PorneÈ™te sesiunea PHP    â”‚
â”‚ require_once 'config.php';          // ConfiguraÈ›ie BD          â”‚
â”‚ require_once 'auth_check.php';      // Verificare autentificare â”‚
â”‚                                                                  â”‚
â”‚ // DacÄƒ ajungi aici, Ã®nseamnÄƒ cÄƒ eÈ™ti autentificat!            â”‚
â”‚ // DacÄƒ nu eÈ™ti autentificat, auth_check.php te redirecÈ›ioneazÄƒâ”‚
â”‚                                                                  â”‚
â”‚ // ... restul codului paginii ...                               â”‚
â”‚ ?>                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
8. EXEMPLE DE UTILIZARE
================================================================================

ğŸ“ EXEMPLU 1: Verificare autentificare Ã®ntr-o paginÄƒ

    <?php
    session_start();
    require_once 'config.php';
    require_once 'auth_check.php';
    
    // DacÄƒ ajungi aici, utilizatorul ESTE autentificat
    // Nu trebuie sÄƒ verifici manual!
    
    echo "BunÄƒ, " . $_SESSION['utilizator_nume'];
    ?>

ğŸ“ EXEMPLU 2: ObÈ›inere informaÈ›ii utilizator

    <?php
    require_once 'functions_autentificare.php';
    
    $user = getUtilizatorAutentificat();
    if ($user) {
        echo "ID: " . $user['id'];
        echo "Username: " . $user['username'];
        echo "Nume: " . $user['nume'];
    }
    ?>

ğŸ“ EXEMPLU 3: Logout

    <?php
    require_once 'functions_autentificare.php';
    
    distrugeSesiune();
    header('Location: login.php');
    exit;
    ?>

ğŸ“ EXEMPLU 4: Verificare manualÄƒ (dacÄƒ e necesar)

    <?php
    require_once 'functions_autentificare.php';
    
    if (esteAutentificat()) {
        echo "EÈ™ti logat!";
    } else {
        echo "Nu eÈ™ti logat!";
    }
    ?>

================================================================================
9. FLUXUL DE DATE - DIAGRAMÄ‚ COMPLETÄ‚
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UTILIZATOR ACCESEAZÄ‚ PAGINÄ‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ session_start()                                                 â”‚
â”‚ - PHP Ã®ncarcÄƒ sesiunea (dacÄƒ existÄƒ)                            â”‚
â”‚ - Sau creeazÄƒ sesiune nouÄƒ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ require_once 'auth_check.php'                                   â”‚
â”‚ - Include functions_autentificare.php                          â”‚
â”‚ - ApeleazÄƒ verificaAutentificare()                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ verificaAutentificare()                                         â”‚
â”‚ - ApeleazÄƒ esteAutentificat()                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
    VERIFICARE SESSION                    VERIFICARE COOKIE
        â”‚                                       â”‚
        â†“                                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $_SESSION existÄƒ? â”‚              â”‚ $_COOKIE['biblioteca_   â”‚
â”‚ data < 10 zile?  â”‚              â”‚  auth_token'] existÄƒ?    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
    DA / NU                                  DA / NU
        â”‚                                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
            â”‚               â”‚
          DA              NU
            â”‚               â”‚
            â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PAGINA SE ÃNCARCÄ‚ â”‚  â”‚ REDIRECT LA login.php    â”‚
â”‚ (autentificat)    â”‚  â”‚ (neautentificat)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
10. SECURITATE È˜I BEST PRACTICES
================================================================================

âœ… CE ESTE BINE IMPLEMENTAT:

1. âœ… Parole hash-uite cu BCRYPT (nu plain text)
2. âœ… Sesiuni pe server (nu Ã®n cookie)
3. âœ… HttpOnly cookies (protecÈ›ie XSS)
4. âœ… Verificare pe fiecare paginÄƒ
5. âœ… Expirare automatÄƒ dupÄƒ 10 zile
6. âœ… Token aleator pentru cookie (nu date sensibile)
7. âœ… Verificare activ = TRUE (conturi dezactivate)

âš ï¸ RECOMANDÄ‚RI PENTRU PRODUCÈšIE:

1. âš ï¸ FoloseÈ™te HTTPS (Secure cookies)
2. âš ï¸ SchimbÄƒ blowfish_secret Ã®n config.inc.php
3. âš ï¸ LimiteazÄƒ Ã®ncercÄƒri de login (rate limiting)
4. âš ï¸ Logging pentru Ã®ncercÄƒri de login eÈ™uate
5. âš ï¸ Parole puternice (minim 8 caractere, majuscule, cifre)
6. âš ï¸ Backup regulat al bazei de date

ğŸ”’ PROTECÈšIE IMPLEMENTATÄ‚:

- âœ… SQL Injection: Protejat (PDO cu prepared statements)
- âœ… XSS: Protejat (HttpOnly cookies)
- âœ… Session Hijacking: Protejat (token aleator)
- âœ… Brute Force: ParÈ›ial (BCRYPT face atacurile lente)
- âœ… Password Theft: Protejat (hash-uri, nu plain text)

================================================================================
11. DEBUGGING È˜I TROUBLESHOOTING
================================================================================

ğŸ” CUM SÄ‚ VERIFICI DACÄ‚ AUTENTIFICAREA FUNCÈšIONEAZÄ‚:

1. VerificÄƒ sesiunea:
   <?php
   session_start();
   print_r($_SESSION);
   // Ar trebui sÄƒ vezi: utilizator_autentificat, utilizator_id, etc.
   ?>

2. VerificÄƒ cookie-ul:
   - Deschide Developer Tools (F12)
   - Tab "Application" â†’ "Cookies"
   - CautÄƒ: biblioteca_auth_token

3. VerificÄƒ baza de date:
   SELECT * FROM utilizatori;
   - Ar trebui sÄƒ vezi utilizatorii cu password_hash

4. VerificÄƒ log-uri:
   - VerificÄƒ error_log PHP pentru erori

ğŸ› PROBLEME COMUNE:

1. "Redirect loop" (pagina se reÃ®ncarcÄƒ continuu):
   - VerificÄƒ cÄƒ login.php NU include auth_check.php
   - VerificÄƒ cÄƒ session_start() e apelat Ã®nainte de auth_check.php

2. "Sesiunea expirÄƒ imediat":
   - VerificÄƒ data_autentificare Ã®n $_SESSION
   - VerificÄƒ timezone PHP (date_default_timezone_set())

3. "Cookie nu funcÈ›ioneazÄƒ":
   - VerificÄƒ cÄƒ browserul acceptÄƒ cookies
   - VerificÄƒ cÄƒ nu foloseÈ™ti incognito mode
   - VerificÄƒ setcookie() parameters

4. "Parola nu funcÈ›ioneazÄƒ":
   - VerificÄƒ cÄƒ password_hash() a fost folosit la creare
   - VerificÄƒ cÄƒ password_verify() e folosit la verificare
   - RuleazÄƒ repara_autentificare.php pentru a regenera hash-uri

================================================================================
12. REZUMAT FINAL
================================================================================

ğŸ“Œ UNDE SE SALVEAZÄ‚ DATELE:

1. PAROLE È˜I UTILIZATORI:
   â†’ Baza de date MySQL: tabelul "utilizatori"
   â†’ LocaÈ›ie: C:\xampp\mysql\data\biblioteca\utilizatori.ibd
   â†’ Parolele sunt hash-uite (BCRYPT), nu plain text

2. SESIUNEA PHP:
   â†’ FiÈ™iere temporare pe server
   â†’ LocaÈ›ie: C:\xampp\tmp\sess_XXXXX (Windows)
   â†’ ConÈ›ine: utilizator_autentificat, utilizator_id, etc.

3. COOKIE PERSISTENT:
   â†’ Browser-ul utilizatorului
   â†’ LocaÈ›ie: Cookie storage al browserului
   â†’ Nume: biblioteca_auth_token
   â†’ Expirare: 10 zile

ğŸ”’ CUM FUNCÈšIONEAZÄ‚ PROTEJAREA:

1. Fiecare paginÄƒ include: require_once 'auth_check.php'
2. auth_check.php verificÄƒ: esteAutentificat()
3. DacÄƒ NU e autentificat â†’ redirect la login.php
4. DacÄƒ DA e autentificat â†’ paginÄƒ se Ã®ncarcÄƒ normal

â° CUM FUNCÈšIONEAZÄ‚ 10 ZILE:

1. La login: se salveazÄƒ data_autentificare Ã®n $_SESSION
2. La fiecare acces: se verificÄƒ dacÄƒ au trecut < 10 zile
3. DacÄƒ > 10 zile: sesiunea expirÄƒ, redirect la login
4. Cookie-ul permite re-autentificare automatÄƒ (dacÄƒ < 10 zile)

âœ… REZULTAT:

- Toate paginile PHP sunt protejate
- FÄƒrÄƒ login â†’ nu poÈ›i accesa nicio paginÄƒ
- Cu login â†’ acces pentru 10 zile
- DupÄƒ 10 zile â†’ trebuie sÄƒ te loghezi din nou

================================================================================
13. CUM SÄ‚ MODIFICI PAROLA SAU USERNAME-UL
================================================================================

ğŸ”‘ MODIFICAREA PAROLEI:

Parolele sunt hash-uite cu BCRYPT, deci NU poÈ›i vedea parola veche.
Trebuie sÄƒ generezi un hash NOU pentru parola nouÄƒ.

ğŸ“ METODA 1: Folosind scriptul modifica_utilizator.php (RECOMANDAT)

1. AcceseazÄƒ: http://localhost/modifica_utilizator.php
2. Tab "ModificÄƒ ParolÄƒ"
3. Introdu:
   - Username: larisa2025
   - ParolÄƒ NouÄƒ: parola_noua_123
   - ConfirmÄƒ Parola: parola_noua_123
4. Click "ModificÄƒ Parola"
5. Scriptul va genera automat hash-ul nou È™i va actualiza baza de date

ğŸ“ METODA 2: Direct Ã®n SQL (pentru avansaÈ›i)

1. GenereazÄƒ hash-ul nou Ã®n PHP:
   <?php
   $parola_noua = 'parola_noua_123';
   $hash = password_hash($parola_noua, PASSWORD_DEFAULT);
   echo $hash; // CopiazÄƒ acest hash
   ?>

2. RuleazÄƒ Ã®n phpMyAdmin (tab SQL):
   UPDATE utilizatori 
   SET password_hash = '$hash_generat' 
   WHERE username = 'larisa2025';

ğŸ“ METODA 3: Folosind script PHP din linia de comandÄƒ

RuleazÄƒ Ã®n terminal:
   php -r "echo password_hash('parola_noua_123', PASSWORD_DEFAULT);"

CopiazÄƒ hash-ul generat È™i foloseÈ™te-l Ã®n SQL.

âœï¸ MODIFICAREA USERNAME-ULUI:

Username-ul NU este hash-uit, este text simplu Ã®n baza de date.

ğŸ“ METODA 1: Folosind scriptul modifica_utilizator.php

1. AcceseazÄƒ: http://localhost/modifica_utilizator.php
2. Tab "ModificÄƒ Username"
3. Introdu:
   - Username Vechi: larisa2025
   - Username Nou: larisa2026
4. Click "ModificÄƒ Username"

ğŸ“ METODA 2: Direct Ã®n SQL

   UPDATE utilizatori 
   SET username = 'larisa2026' 
   WHERE username = 'larisa2025';

âš ï¸ ATENÈšIE: DacÄƒ modifici username-ul, utilizatorul trebuie sÄƒ se logheze
cu noul username! Sesiunea veche va expira.

â• ADAUGAREA UNUI UTILIZATOR NOU:

1. AcceseazÄƒ: http://localhost/modifica_utilizator.php
2. Tab "AdaugÄƒ Utilizator"
3. CompleteazÄƒ:
   - Username: nou_utilizator
   - ParolÄƒ: parola_123
   - Nume: (opÈ›ional)
   - Email: (opÈ›ional)
4. Click "AdaugÄƒ Utilizator"
5. Scriptul va genera automat hash-ul pentru parolÄƒ

ğŸ“‹ VERIFICAREA UTILIZATORILOR:

1. AcceseazÄƒ: http://localhost/modifica_utilizator.php
2. Tab "Lista Utilizatori"
3. Vezi toÈ›i utilizatorii cu:
   - ID, Username, Nume, Email
   - Status (ACTIV/DEZACTIVAT)
   - Data creare
   - Ultima autentificare

ğŸ”’ SECURITATE:

- Parolele NU pot fi "decriptate" (sunt hash-uite one-way)
- Singura metodÄƒ de "resetare" este generarea unui hash nou
- Hash-ul generat pentru aceeaÈ™i parolÄƒ este DIFERIT de fiecare datÄƒ
- Verificarea se face cu password_verify(), nu cu comparaÈ›ie directÄƒ

ğŸ’¡ EXEMPLU PRACTIC:

SituaÈ›ie: Vrei sÄƒ schimbi parola pentru "larisa2025" din "admin2024" Ã®n "noua_parola_2025"

PaÈ™i:
1. Deschide: modifica_utilizator.php
2. Tab "ModificÄƒ ParolÄƒ"
3. Username: larisa2025
4. ParolÄƒ NouÄƒ: noua_parola_2025
5. ConfirmÄƒ: noua_parola_2025
6. Click "ModificÄƒ Parola"

Ce se Ã®ntÃ¢mplÄƒ Ã®n spate:
- Scriptul genereazÄƒ: $hash = password_hash('noua_parola_2025', PASSWORD_DEFAULT)
- Rezultat: $2y$10$abc123def456... (hash nou, unic)
- SQL: UPDATE utilizatori SET password_hash = '$hash' WHERE username = 'larisa2025'
- Parola veche este Ã®nlocuitÄƒ cu hash-ul nou

DupÄƒ modificare:
- Utilizatorul se logheazÄƒ cu: larisa2025 / noua_parola_2025
- Parola veche "admin2024" nu mai funcÈ›ioneazÄƒ

================================================================================
                    SFÃ‚RÈ˜IT DOCUMENTAÈšIE
================================================================================

Pentru Ã®ntrebÄƒri sau probleme, verificÄƒ:
- functions_autentificare.php - funcÈ›iile principale
- auth_check.php - verificarea automatÄƒ
- login.php - pagina de login
- modifica_utilizator.php - gestionarea utilizatorilor
- update_database_autentificare.sql - structura bazei de date

CreÃ¢nd un script pentru a afiÈ™a utilizatorii din baza de date. Parolele sunt hash-uite (BCRYPT), deci nu pot fi afiÈ™ate Ã®n plain text; vom afiÈ™a hash-urile.


[3 tools called]


RulÃ¢nd un SELECT direct Ã®n baza de date pentru a afiÈ™a utilizatorii:


[3 tools called]


IatÄƒ utilizatorii din baza de date:

## Utilizatori din baza de date

| ID | Username | Password Hash (BCRYPT) | Nume | Email | Status | Data Creare | Ultima Autentificare |
|----|----------|------------------------|------|-------|--------|-------------|----------------------|
| 1 | larisa2025 | `$2y$10$ZYKkvikWwBwAqOTVXKX.fe7g9Dp1VEQVLkvb6znX4BRlK4GDnR59.` | Larisa | NULL | âœ… ACTIV | 2025-11-19 18:55:37 | 2025-11-19 18:55:46 |
| 2 | bunica20 | `$2y$10$es6EeNN6455P9tuy7GtlNOaJMrOn7aDXWHrtbC4sz.wUPOqD/BBJm` | Bunica | NULL | âœ… ACTIV | 2025-11-19 18:55:37 | NiciodatÄƒ |

## ObservaÈ›ii

1. Parolele sunt hash-uite cu BCRYPT:
   - `larisa2025` â†’ Hash: `$2y$10$ZYKkvikWwBwAqOTVXKX.fe7g9Dp1VEQVLkvb6znX4BRlK4GDnR59.`
   - `bunica20` â†’ Hash: `$2y$10$es6EeNN6455P9tuy7GtlNOaJMrOn7aDXWHrtbC4sz.wUPOqD/BBJm`

2. Hash-urile nu pot fi decriptate:
   - BCRYPT este one-way encryption
   - Nu poÈ›i obÈ›ine parola din hash
   - Verificarea se face cu `password_verify()`

3. Parolele originale (din configuraÈ›ie):
   - `larisa2025` â†’ parola: `admin2024`
   - `bunica20` â†’ parola: `iubire32`

## Pentru a vedea datele Ã®n browser

Am creat È™i pagina `afiseaza_utilizatori.php` care afiÈ™eazÄƒ aceleaÈ™i date Ã®ntr-un format mai clar. PoÈ›i accesa:
- `http://localhost/biblioteca/afiseaza_utilizatori.php`

Sau foloseÈ™te `modifica_utilizator.php` pentru a modifica parolele/username-urile.

Vrei sÄƒ modific ceva la aceÈ™ti utilizatori sau sÄƒ adaug alÈ›ii?